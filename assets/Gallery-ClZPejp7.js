import{R as me,j as r,r as i}from"./index-NXYFgAjv.js";import{c as fe,b as Ge,a as k,M as se}from"./StyledButton-DkLDqqqY.js";import{c as Be,L as ge,a as De,u as $e}from"./image-D3-nsFdW.js";import{t as he,u as Fe}from"./use-ref-value-Mo2_v78l.js";import{e as B,j as pe,f as ve,u as ce,s as Ue,K as Ye}from"./owner-BSI_Vh2r.js";import{e as X}from"./index-BfhiJUOb.js";import{u as Xe}from"./viewport-BolDZsoB.js";import{u as Ze,D as te}from"./use-is-unmounted-D7ob97g3.js";const qe=({contexts:t,children:e})=>t.reduceRight((n,a)=>me.cloneElement(a,{children:n}),e),Ve=B(!1),Ke=t=>pe.set(Ve,t),Qe=B(0),xe=B(null),Ft=({children:t})=>r.jsxs(r.Fragment,{children:[r.jsx(Je,{}),t]}),Je=()=>{const t=ce(Qe),e=ce(xe),n=i.useRef(0),a=i.useRef(!1);return X(()=>{const s=he(()=>{a.current||(Ke(!0),a.current=!0);let c=document.documentElement.scrollTop;if(c===0){const m=document.body.style;if(m.position==="fixed"){const f=m.top;c=Math.abs(Number.parseInt(f,10))}}e(n.current-c>0?"up":"down"),n.current=c,t(n.current)},16,{leading:!1});return window.addEventListener("scroll",s),s(),()=>{window.removeEventListener("scroll",s)}},[]),null},et=()=>ve(xe),ne=t=>{const e=i.useRef(t);return i.useEffect(()=>{e.current=t},[t]),e},ye=i.createContext(B([])),Ut=({children:t,images:e})=>{const n=Fe(()=>B(e));return i.useEffect(()=>{pe.set(n,e)},[e]),r.jsx(ye.Provider,{value:n,children:t})},Z=t=>ve(Ue(i.useContext(ye),i.useCallback(e=>e.find(n=>n.src===t),[t]))),tt=()=>{};function q(t){const e=i.createContext(t),n=i.createContext(tt);return[a=>{let{children:s}=a;const[c,m]=i.useState(t);return r.jsx(e.Provider,{value:c,children:r.jsx(n.Provider,{value:m,children:s})})},()=>i.useContext(e),()=>i.useContext(n),e]}const[nt,ot,rt]=q(void 0),[at,be,it]=q({h:0,w:0}),[st,Yt,ct]=q({x:0,y:0}),[lt,Xt,dt]=q(!1),ut=[r.jsx(nt,{},"ArticleElementProviderInternal"),r.jsx(at,{},"ElementSizeProviderInternal"),r.jsx(st,{},"ElementPositionProviderInternal"),r.jsx(lt,{},"IsEOArticleElementProviderInternal")],mt=({children:t,className:e,...n})=>r.jsxs(qe,{contexts:ut,children:[r.jsx(ft,{}),r.jsx(ze,{...n,className:e,children:t})]}),ft=()=>{const t=it(),e=ct(),n=ot();return X(()=>{if(!n)return;const{height:a,width:s,left:c,top:m}=n.getBoundingClientRect();t({h:a,w:s});const f=window.scrollX+c,z=window.scrollY+m;e({x:f,y:z});const p=new ResizeObserver(y=>{const N=y[0],{height:O,width:A}=N.contentRect,{left:E,top:L}=n.getBoundingClientRect(),P=window.scrollX+E,g=window.scrollY+L;t(x=>x.h===O&&x.w===A?x:{h:O,w:A}),e(x=>x.x===P&&x.y===g?x:{x:P,y:g})});return p.observe(n),()=>{p.unobserve(n),p.disconnect()}},[n]),null},ze=i.memo(({children:t,className:e,eoaDetect:n,as:a="div"})=>{const s=rt(),c=a;return r.jsxs(c,{className:fe("relative",e),ref:s,children:[t,n&&r.jsx(gt,{})]})});ze.displayName="ArticleElementProviderContent";const gt=()=>{const t=et(),e=ne(t),n=dt(),a=i.useRef(null);return i.useEffect(()=>{if(!a.current)return;const s=a.current,c=new IntersectionObserver(m=>{const f=m[0];!f.isIntersecting&&e.current==="down"||n(f.isIntersecting)},{rootMargin:"0px 0px 0px 0px"});return c.observe(s),()=>{c.unobserve(s),c.disconnect()}},[]),r.jsx("div",{ref:a})};/*! medium-zoom 1.1.0 | MIT License | https://github.com/francoischalifour/medium-zoom */var _=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},F=function(e){return e.tagName==="IMG"},ht=function(e){return NodeList.prototype.isPrototypeOf(e)},U=function(e){return e&&e.nodeType===1},le=function(e){var n=e.currentSrc||e.src;return n.substr(-4).toLowerCase()===".svg"},de=function(e){try{return Array.isArray(e)?e.filter(F):ht(e)?[].slice.call(e).filter(F):U(e)?[e].filter(F):typeof e=="string"?[].slice.call(document.querySelectorAll(e)).filter(F):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},pt=function(e){var n=document.createElement("div");return n.classList.add("medium-zoom-overlay"),n.style.background=e,n},vt=function(e){var n=e.getBoundingClientRect(),a=n.top,s=n.left,c=n.width,m=n.height,f=e.cloneNode(),z=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,p=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return f.removeAttribute("id"),f.style.position="absolute",f.style.top=a+z+"px",f.style.left=s+p+"px",f.style.width=c+"px",f.style.height=m+"px",f.style.transform="",f},W=function(e,n){var a=_({bubbles:!1,cancelable:!1,detail:void 0},n);if(typeof window.CustomEvent=="function")return new CustomEvent(e,a);var s=document.createEvent("CustomEvent");return s.initCustomEvent(e,a.bubbles,a.cancelable,a.detail),s},we=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=window.Promise||function(l){function d(){}l(d,d)},s=function(l){var d=l.target;if(d===D){E();return}j.indexOf(d)!==-1&&L({target:d})},c=function(){if(!(T||!o.original)){var l=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(ae-l)>h.scrollOffset&&setTimeout(E,150)}},m=function(l){var d=l.key||l.keyCode;(d==="Escape"||d==="Esc"||d===27)&&E()},f=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=l;if(l.background&&(D.style.background=l.background),l.container&&l.container instanceof Object&&(d.container=_({},h.container,l.container)),l.template){var v=U(l.template)?l.template:document.querySelector(l.template);d.template=v}return h=_({},h,d),j.forEach(function(w){w.dispatchEvent(W("medium-zoom:update",{detail:{zoom:I}}))}),I},z=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t(_({},h,l))},p=function(){for(var l=arguments.length,d=Array(l),v=0;v<l;v++)d[v]=arguments[v];var w=d.reduce(function(u,S){return[].concat(u,de(S))},[]);return w.filter(function(u){return j.indexOf(u)===-1}).forEach(function(u){j.push(u),u.classList.add("medium-zoom-image")}),b.forEach(function(u){var S=u.type,R=u.listener,M=u.options;w.forEach(function(H){H.addEventListener(S,R,M)})}),I},y=function(){for(var l=arguments.length,d=Array(l),v=0;v<l;v++)d[v]=arguments[v];o.zoomed&&E();var w=d.length>0?d.reduce(function(u,S){return[].concat(u,de(S))},[]):j;return w.forEach(function(u){u.classList.remove("medium-zoom-image"),u.dispatchEvent(W("medium-zoom:detach",{detail:{zoom:I}}))}),j=j.filter(function(u){return w.indexOf(u)===-1}),I},N=function(l,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j.forEach(function(w){w.addEventListener("medium-zoom:"+l,d,v)}),b.push({type:"medium-zoom:"+l,listener:d,options:v}),I},O=function(l,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j.forEach(function(w){w.removeEventListener("medium-zoom:"+l,d,v)}),b=b.filter(function(w){return!(w.type==="medium-zoom:"+l&&w.listener.toString()===d.toString())}),I},A=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=l.target,v=function(){var u={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},S=void 0,R=void 0;if(h.container)if(h.container instanceof Object)u=_({},u,h.container),S=u.width-u.left-u.right-h.margin*2,R=u.height-u.top-u.bottom-h.margin*2;else{var M=U(h.container)?h.container:document.querySelector(h.container),H=M.getBoundingClientRect(),V=H.width,Ne=H.height,Le=H.left,Re=H.top;u=_({},u,{width:V,height:Ne,left:Le,top:Re})}S=S||u.width-h.margin*2,R=R||u.height-h.margin*2;var G=o.zoomedHd||o.original,Oe=le(G)?S:G.naturalWidth||S,Pe=le(G)?R:G.naturalHeight||R,$=G.getBoundingClientRect(),He=$.top,_e=$.left,K=$.width,Q=$.height,ke=Math.min(Math.max(K,Oe),S)/K,Te=Math.min(Math.max(Q,Pe),R)/Q,J=Math.min(ke,Te),Me=(-_e+(S-K)/2+h.margin+u.left)/J,We=(-He+(R-Q)/2+h.margin+u.top)/J,ie="scale("+J+") translate3d("+Me+"px, "+We+"px, 0)";o.zoomed.style.transform=ie,o.zoomedHd&&(o.zoomedHd.style.transform=ie)};return new a(function(w){if(d&&j.indexOf(d)===-1){w(I);return}var u=function V(){T=!1,o.zoomed.removeEventListener("transitionend",V),o.original.dispatchEvent(W("medium-zoom:opened",{detail:{zoom:I}})),w(I)};if(o.zoomed){w(I);return}if(d)o.original=d;else if(j.length>0){var S=j;o.original=S[0]}else{w(I);return}if(o.original.dispatchEvent(W("medium-zoom:open",{detail:{zoom:I}})),ae=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,T=!0,o.zoomed=vt(o.original),document.body.appendChild(D),h.template){var R=U(h.template)?h.template:document.querySelector(h.template);o.template=document.createElement("div"),o.template.appendChild(R.content.cloneNode(!0)),document.body.appendChild(o.template)}if(o.original.parentElement&&o.original.parentElement.tagName==="PICTURE"&&o.original.currentSrc&&(o.zoomed.src=o.original.currentSrc),document.body.appendChild(o.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),o.original.classList.add("medium-zoom-image--hidden"),o.zoomed.classList.add("medium-zoom-image--opened"),o.zoomed.addEventListener("click",E),o.zoomed.addEventListener("transitionend",u),o.original.getAttribute("data-zoom-src")){o.zoomedHd=o.zoomed.cloneNode(),o.zoomedHd.removeAttribute("srcset"),o.zoomedHd.removeAttribute("sizes"),o.zoomedHd.removeAttribute("loading"),o.zoomedHd.src=o.zoomed.getAttribute("data-zoom-src"),o.zoomedHd.onerror=function(){clearInterval(M),console.warn("Unable to reach the zoom image target "+o.zoomedHd.src),o.zoomedHd=null,v()};var M=setInterval(function(){o.zoomedHd.complete&&(clearInterval(M),o.zoomedHd.classList.add("medium-zoom-image--opened"),o.zoomedHd.addEventListener("click",E),document.body.appendChild(o.zoomedHd),v())},10)}else if(o.original.hasAttribute("srcset")){o.zoomedHd=o.zoomed.cloneNode(),o.zoomedHd.removeAttribute("sizes"),o.zoomedHd.removeAttribute("loading");var H=o.zoomedHd.addEventListener("load",function(){o.zoomedHd.removeEventListener("load",H),o.zoomedHd.classList.add("medium-zoom-image--opened"),o.zoomedHd.addEventListener("click",E),document.body.appendChild(o.zoomedHd),v()})}else v()})},E=function(){return new a(function(l){if(T||!o.original){l(I);return}var d=function v(){o.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(o.zoomed),o.zoomedHd&&document.body.removeChild(o.zoomedHd),document.body.removeChild(D),o.zoomed.classList.remove("medium-zoom-image--opened"),o.template&&document.body.removeChild(o.template),T=!1,o.zoomed.removeEventListener("transitionend",v),o.original.dispatchEvent(W("medium-zoom:closed",{detail:{zoom:I}})),o.original=null,o.zoomed=null,o.zoomedHd=null,o.template=null,l(I)};T=!0,document.body.classList.remove("medium-zoom--opened"),o.zoomed.style.transform="",o.zoomedHd&&(o.zoomedHd.style.transform=""),o.template&&(o.template.style.transition="opacity 150ms",o.template.style.opacity=0),o.original.dispatchEvent(W("medium-zoom:close",{detail:{zoom:I}})),o.zoomed.addEventListener("transitionend",d)})},L=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=l.target;return o.original?E():A({target:d})},P=function(){return h},g=function(){return j},x=function(){return o.original},j=[],b=[],T=!1,ae=0,h=n,o={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(e)==="[object Object]"?h=e:(e||typeof e=="string")&&p(e),h=_({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},h);var D=pt(h.background);document.addEventListener("click",s),document.addEventListener("keyup",m),document.addEventListener("scroll",c),window.addEventListener("resize",E);var I={open:A,close:E,toggle:L,update:f,clone:z,attach:p,detach:y,on:N,off:O,getOptions:P,getImages:g,getZoomedImage:x};return I};function xt(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&a.firstChild?a.insertBefore(s,a.firstChild):a.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}}var yt=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";xt(yt);const Ee=t=>me.createElement("img",t,t.children),bt="_error_hef56_1",zt="_loading_hef56_2",wt="_loaded_hef56_6",Et="_imageLoad_hef56_1",ue={error:bt,loading:zt,loaded:wt,imageLoad:Et},oe=Ge({base:"rounded-xl overflow-hidden text-center inline-flex items-center justify-center duration-200",variants:{status:{loading:"hidden opacity-0",loaded:"opacity-100 block",error:"hidden opacity-0"}}});let ee;const jt=({alt:t,src:e,title:n,zoom:a,placeholder:s,height:c,width:m,className:f})=>{const[z]=i.useState(()=>{if(Ye)return null;if(ee)return ee;const b=we(void 0,{});return ee=b,b}),p=n||t,[y,N]=i.useState("loading"),O=Ze(),A=i.useCallback(b=>{O.current||N(b)},[O]),E=i.useRef(null),L=Xe();X(()=>{if(y!=="loaded"||!a)return;const b=E.current;if(b){if(L)return b.onclick=()=>{window.open(e)},()=>{b.onclick=null};if(b)return z.attach(b),()=>{z.detach(b)}}},[a,z,y,L]);const P=i.useCallback(()=>{A("loaded")},[A]),g=i.useCallback(()=>A("error"),[A]),x=i.useCallback(b=>{b.target.classList.remove(ue.loaded)},[]),j=i.useMemo(()=>oe({status:y,className:k(ue.loaded,f)}),[f,y]);return r.jsxs("figure",{children:[r.jsx("span",{className:"relative flex justify-center","data-hide-print":!0,children:r.jsxs(ge,{placeholder:s,offset:30,children:[r.jsx("span",{children:y!=="loaded"&&s}),y==="error"&&r.jsxs("div",{className:"center absolute inset-0 z-[1] flex flex-col gap-8",children:[r.jsx("i",{className:"i-mingcute-close-line text-4xl text-red-500"}),r.jsx("span",{children:"图片加载失败"}),r.jsx(te,{className:"w-[80px] opacity-80"}),r.jsx("a",{href:e,target:"_blank",rel:"noreferrer",children:r.jsx("span",{children:"查看原图"})})]}),r.jsx(Ie,{height:c,width:m,src:e,title:n,alt:t||n||"",ref:E,onLoad:P,onError:g,className:j,onAnimationEnd:x})]})}),r.jsx("img",{className:"max-w-1/3 !hidden print:!block",src:e,alt:t||n}),!!p&&r.jsxs("figcaption",{className:"mt-1 flex flex-col items-center justify-center",children:[r.jsx(te,{className:"w-[80px] opacity-80"}),r.jsx("span",{children:p})]})]})},je=t=>{const e=i.useMemo(()=>r.jsx(It,{...t}),[t]);return r.jsx(jt,{zoom:!0,placeholder:e,...t})},It=({src:t,containerWidth:e,height:n,width:a,accent:s})=>{const c=Z(t),m=s||c?.accent,f=i.useMemo(()=>{let z=n,p=a;if(!z||!p){if(!c)return;z=c.height,p=c.width}if(e<=0)return;const{height:y,width:N}=Be({width:p,height:z,max:{width:e,height:1/0}});return{scaleHeight:y,scaleWidth:N}},[n,a,e,c]);return f?r.jsx("span",{className:`image-placeholder ${oe.base}`,"data-width":f.scaleWidth,"data-height":f.scaleHeight,"data-from-record-height":c?.height,"data-from-record-width":c?.width,"data-src":t,style:{height:f.scaleHeight,width:f.scaleWidth,backgroundColor:m}}):r.jsx(At,{accent:m})},At=({accent:t})=>r.jsx("span",{className:fe("image-placeholder",oe.base,"h-[300px] w-full bg-slate-300 dark:bg-slate-700"),style:{backgroundColor:t,outline:void 0}}),Ie=i.memo(i.forwardRef(({src:t,alt:e,...n},a)=>{const{height:s,width:c}=Z(t)||n,m=t.endsWith(".gif"),f=!!(s&&c)&&!m,z=i.useRef(null),p=r.jsx("img",{"data-zoom-src":t,alt:e,src:t,ref:z,...n});i.useImperativeHandle(a,()=>z.current);const y=i.useRef(null);return X(()=>{const N=y.current;N&&z.current&&(z.current.src=N.src)},[t]),r.jsx(r.Fragment,{children:f?r.jsxs(r.Fragment,{children:[r.jsx(Ee,{alt:e||"",fetchPriority:"high",priority:!0,src:t,...n,height:+s,width:+c,ref:y}),r.jsx("div",{className:"absolute inset-0 flex justify-center opacity-0",children:i.cloneElement(p,{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"})})]}):p})}));Ie.displayName="OptimizedImage";const Ct=new Set(["mp4","webm","ogg","avi","mov","flv","wmv","mkv"]),St=t=>Ct.has(t),Ae=t=>{const{src:e,alt:n}=t,a={...t};a.alt=n?.replace(/^[¡!]/,"");const{w:s}=be(),c=e.split(".").pop();if(St(c)){const m=n?.replace(/^[¡!]/,"");return r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("video",{src:e,controls:!0,playsInline:!0,autoPlay:!1}),m&&r.jsxs("p",{className:"mt-1 flex flex-col items-center justify-center text-sm",children:[r.jsx(te,{className:"w-[80px] opacity-80"}),r.jsx("span",{className:"opacity-90",children:m})]})]})}return r.jsx(je,{...a,containerWidth:s})},Zt=t=>r.jsx(mt,{children:r.jsx("div",{className:"relative flex min-w-0 grow",children:r.jsx(Ae,{...t})})}),qt=({imagesSrc:t,Wrapper:e,height:n=1})=>r.jsx("div",{className:"relative",style:{paddingBottom:`${n*100}%`},children:r.jsx(e,{className:"absolute inset-0",children:t.map(a=>r.jsx(Ce,{src:a},a))})}),Ce=i.memo(({src:t})=>{const{accent:e,height:n,width:a}=Z(t)||{},s=De(t,600),c=i.useRef(null),m=a&&n?a>n:!0,f=n&&a?Ee:"img";return r.jsx("div",{className:"relative flex size-full overflow-hidden rounded-md bg-cover bg-center center",style:{backgroundColor:e},children:r.jsx(ge,{offset:30,children:r.jsx(f,{loading:"lazy",alt:"",height:n,width:a,src:s,ref:c,className:k("!m-0 max-w-max object-cover",m?"h-full":"w-full"),"data-zoom-src":t,onClick:()=>{c.current&&we(c.current).open()}})})})});Ce.displayName="GridZoomImage";const Nt="_root_1ug9l_1",Lt="_indicator_1ug9l_2",Rt="_container_1ug9l_7",Ot="_child_1ug9l_17",Y={root:Nt,indicator:Lt,container:Rt,child:Ot},re=60,Pt=15,Ht=5e3,Vt=t=>{const{images:e}=t,[n,a]=i.useState(null),[,s]=i.useState({}),c=i.useRef(0);i.useEffect(()=>{if(!n)return;const g=new ResizeObserver(()=>{s({}),x(n)});function x(j){const b=j.children.item(0);b&&(c.current=b.clientWidth)}return x(n),g.observe(n),()=>{g.disconnect()}},[n]);const[m,f]=i.useState(0),z=i.useCallback(he(g=>{const x=g.target,j=Math.floor((x.scrollLeft+re+15)/c.current);f(j)},60),[]),p=i.useCallback(g=>{n&&n.scrollTo({left:c.current*g,behavior:"smooth"})},[n]),y=i.useRef(null),N=ne(m),O=ne(e.length),A=i.useRef(!0),E=i.useRef(!0),L=i.useCallback(()=>{E.current&&(E.current=!1,clearInterval(y.current))},[]),{ref:P}=$e({initialInView:!1,triggerOnce:e.length<2,onChange(g){O.current<2||!E.current||(g?y.current=setInterval(()=>{N.current+1>O.current-1&&A.current&&(A.current=!1),N.current-1<0&&!A.current&&(A.current=!0);const x=N.current+(A.current?1:-1);p(x)},Ht):y.current=clearInterval(y.current))}});if(i.useEffect(()=>()=>{clearInterval(y.current)},[]),e.length===0)return null;if(e.length===1){const g=e[0];return r.jsx(Ae,{src:g.url,alt:g.footnote})}return r.jsxs("div",{className:k("w-full","relative",Y.root),ref:P,onTouchMove:L,onWheel:L,children:[r.jsx("div",{className:k("w-full overflow-auto whitespace-nowrap",Y.container),onTouchStart:L,onScroll:z,ref:a,onTouchMove:L,onWheel:L,children:e.map(g=>r.jsx(Se,{image:g},g.url))}),m>0&&r.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-2 flex items-center [&_*]:duration-200",children:r.jsx(se,{onClick:()=>{if(!n)return;const g=m-1;p(g)},className:"border-border center pointer-events-auto flex size-6 rounded-full border bg-base-100 p-1 opacity-80 hover:opacity-100",children:r.jsx("i",{className:"i-mingcute-left-fill"})})}),m<e.length-1&&r.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-2 flex items-center [&_*]:duration-200",children:r.jsx(se,{onClick:()=>{if(!n)return;const g=m+1;p(g)},className:"border-border center pointer-events-auto flex size-6 rounded-full border bg-base-100 p-1 opacity-80 hover:opacity-100",children:r.jsx("i",{className:"i-mingcute-right-fill"})})}),r.jsx("div",{className:k(Y.indicator,"space-x-2"),children:Array.from({length:e.length}).map((g,x)=>r.jsx("div",{className:k("size-[6px] cursor-pointer rounded-full bg-stone-600 opacity-50 transition-opacity duration-200 ease-in-out",m==x&&"!opacity-100"),onClick:p.bind(null,x)},x))})]})},_t={width:`calc(100% - ${re}px)`,marginRight:`${Pt}px`},Se=i.memo(({image:t})=>{const e=Z(t.url),n=t.name,s=t.footnote||(["!","¡"].some(m=>m==n?.[0])?n?.slice(1):"")||"",{w:c}=be();return r.jsx("div",{style:_t,className:k(Y.child,"inline-block self-center"),children:r.jsx(je,{accent:e?.accent,src:t.url,alt:s,containerWidth:c-re})},`${t.url}-${t.name||""}`)});Se.displayName="GalleryItem";export{je as F,Vt as G,Ee as I,Ut as M,qe as P,mt as W,qt as a,Zt as b,Ae as c,Ft as d,be as u};
